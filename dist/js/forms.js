"use strict";function asyncGeneratorStep(e,t,n,o,r,c,a){try{var u=e[c](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(o,r)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var c=e.apply(t,n);function a(e){asyncGeneratorStep(c,o,r,a,u,"next",e)}function u(e){asyncGeneratorStep(c,o,r,a,u,"throw",e)}a(void 0)}))}}window.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll("form"),t=document.querySelectorAll("input"),n=document.querySelector(".modal_two"),o=document.querySelector("#modal-two"),r=document.querySelector("html"),c=document.querySelector(".modal_two .modal__close"),a=document.querySelector("#modal_one"),u=document.querySelector('input[name="phone-number"]');u.addEventListener("input",(function(){u.value=u.value.replace(/\D/,"")}));c.addEventListener("click",(function(){o.style.display="none",r.style.overflow="",n.style.display="none",document.body.style.overflow="",document.body.style.marginRight="0px"}));var l="Загрузка",i="Что-то пошло не так...",s=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(t,n){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.querySelector(".class-modal").textContent=l,e.next=3,fetch(t,{method:"POST",body:n});case 3:return o=e.sent,e.next=6,o.text();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();t.forEach((function(e){e.setAttribute("autocomplete","off")})),e.forEach((function(e){e.addEventListener("submit",(function(c){c.preventDefault();var u=document.createElement("div");u.classList.add("class-modal"),e.appendChild(u);var l=new FormData(e);s("server/server.php",l).then((function(e){console.log(e),r.style.overflow="hidden",a.style.display="none",o.style.display="block",n.style.display="block"})).catch((function(){return u.textContent=i})).finally((function(){t.forEach((function(e){e.value=""})),setTimeout((function(){u.remove()}),5e3)}))}))}))}));